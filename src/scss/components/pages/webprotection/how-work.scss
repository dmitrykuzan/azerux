.how-work {
  margin-top: 8rem;
  padding-bottom: 8rem;

  @media (max-width: em(1024)) {
    margin-top: 2rem;
    padding-bottom: 4rem;
  }

  &__wrapper {
    gap: 4rem;
  }

  &__text {
    gap: 2rem;
  }

  &__subtitle {
    font-size: fluid(2.4rem, 1.2rem);
    line-height: 120%;
    color: var(--clr-default-470);
  }

  &__navigation {
    gap: 1rem;
    margin-right: auto;
    margin-left: auto;
    width: max-content;

    &-title {
      font-size: fluid(2.4rem, 1.2rem);
    }
  }

  &__toggle {
    margin-right: auto;
    margin-left: auto;
    border: 0.1rem solid var(--clr-default-light-410);
    border-radius: 1rem;
    padding-right: 0.4rem;
    padding-left: 0.4rem;
    width: max-content;
    min-height: 5rem;
    background-color: var(--clr-tabs-btns-bg);
    -webkit-backdrop-filter: blur(3rem);
    backdrop-filter: blur(3rem);

    &-button {
      border-radius: 0.6rem;
      padding-right: 1rem;
      padding-left: 1rem;
      height: 4.2rem;
      text-transform: uppercase;
      color: var(--clr-tabs-btn);
      transition: color var(--transition), background-color var(--transition);

      &.active {
        color: var(--clr-default-100);
        background-color: var(--clr-primary-400);
      }

      @media (hover) {
        &:hover {
          color: var(--clr-default-100);
        }
      }
    }
  }

  &__content {
    &-traffic {
      gap: 3rem;
      margin-right: auto;
      margin-left: auto;
      width: max-content;
      font-size: fluid(2.4rem, 1.2rem);

      &--legitimate,
      &--malicious {
        position: relative;
        padding-left: 2rem;

        &::before {
          content: "";
          position: absolute;
          left: 0;
          top: 50%;
          border-radius: 50%;
          width: 1rem;
          height: 1rem;
          transform: translateY(-50%);
        }
      }

      &--legitimate {
        &::before {
          background-color: var(--clr-primary-400);
        }
      }

      &--malicious {
        &::before {
          background-color: var(--clr-accent-550);
        }
      }
    }

    @media (max-width: em(1024)) {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }
  }

  &__body {
    @media (max-width: em(1024)) {
      flex-direction: column;
    }
  }

  &__items {
    flex-shrink: 0;
    flex-direction: column;
    gap: 4rem;

    @media (max-width: em(1380)) {
      flex-shrink: initial;
    }

    @media (max-width: em(1024)) {
      flex-direction: row-reverse;
      gap: 3rem;
    }

    @media (max-width: em(575)) {
      gap: 2rem;
    }
  }

  &__item {
    position: relative;
    gap: 2rem;

    &-text {
      gap: 0.5rem;
    }

    &-title {
      font-size: fluid(2.4rem, 1.4rem);
      line-height: 120%;

      &.underline {
        @media (max-width: em(1024)) {
          text-decoration: underline;
        }
      }
    }

    &-icon {
      @media (max-width: em(1260)) {
        flex-shrink: 0;
        max-width: 5rem;

        svg {
          width: 100%;
          height: 100%;
        }
      }
    }

    &-help {
      flex-shrink: 0;
      border: 0.1rem solid var(--clr-default-430);
      border-radius: 50%;
      width: 2rem;
      height: 2rem;

      @media (max-width: em(1024)) {
        display: none;
      }
    }

    @media (max-width: em(1024)) {
      flex-direction: column;
      gap: 1rem;
    }
  }

  &__images {
    @media (max-width: em(1024)) {
      flex-direction: column;
      gap: 1rem;
    }
  }

  &__image {
    position: relative;

    &-label {
      gap: 1rem;
      font-size: fluid(2.4rem, 1.4rem);
      line-height: 120%;

      p {
        &.underline {
          @media (max-width: em(1024)) {
            text-decoration: underline;
          }
        }
      }

      @media (max-width: em(1160)) {
        font-size: 1.6rem;
      }
    }

    &--server {
      position: absolute;
      left: 50%;
      top: -8rem;
      width: 14rem;
      height: 9.3rem;
      transform: translateX(-50%);

      @media (max-width: em(1024)) {
        top: 1rem;
      }
    }

    &--last {
      @media (max-width: em(1024)) {
        padding-top: 9rem;
      }
    }
  }

  &__lines {
    gap: 8rem;

    &--middle {
      gap: 2rem;
    }

    &--last {
      gap: 1rem;
    }

    svg {
      width: 100%;
      // height: 100%;
    }

    @media (max-width: em(1024)) {
      display: none;
    }
  }

  &__lines-mobile {
    display: none;

    &--center {
      gap: 1rem;
    }

    &--last {
      gap: 1.5rem;
      transform: translateY(15px);
    }

    @media (max-width: em(1024)) {
      display: flex;
    }
  }

  &__line-blue-top-bot {
    transform: rotate(15deg) translateX(15px);

    @media (max-width: em(1260)) {
      transform: rotate(15deg) translateX(38px) translateY(32px);

      svg {
        width: 95%;
      }
    }
  }

  &__line-red-bot-top {
    transform: rotate(-15deg) translateX(20px) translateY(-10px);

    @media (max-width: em(1260)) {
      transform: rotate(-15deg) translateX(34px) translateY(-35px);

      svg {
        width: 95%;
      }
    }
  }

  &__line-blue-row {
    width: 96%;
    transform: translateX(10px);
  }

  &__line-red-row {
    width: max-content;
  }

  //second tab

  &__line-blue-long-x {
    width: max-content;
  }

  //mobile

  &__line-red-left-right {
    transform: rotate(-31deg) translateX(-47px) translateY(-10px);
  }

  &__line-blue-column {
    transform: translateY(10px);
  }

  &__line-blue-left-right {
    transform: rotate(31deg) translateX(46px) translateY(-10px);
  }

  &__line-red-column-x {
    transform: translateY(10px);
  }
}
